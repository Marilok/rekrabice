#!/usr/bin/env node
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
/* eslint-disable */
var extra_typings_1 = require("@commander-js/extra-typings");
var package_json_1 = __importDefault(require("../package.json"));
var dev_1 = require("./commands/dev");
var preview_1 = require("./commands/preview");
var export_1 = require("./commands/export");
var constants_1 = require("./utils/constants");
extra_typings_1.program
    .name(constants_1.PACKAGE_NAME)
    .description('A live preview of your emails right in your browser')
    .version(package_json_1.default.version);
extra_typings_1.program
    .command('dev')
    .description('Starts the application in development mode')
    .option('-d, --dir <path>', 'Directory with your email templates', './emails')
    .option('-p --port <port>', 'Port to run dev server on', '3000')
    .option('-s, --skip-install', 'Do not install dependencies', false)
    .action(dev_1.dev);
extra_typings_1.program
    .command('build')
    .description('Builds a production preview app')
    .option('-d, --dir <path>', 'Directory with your email templates', './emails')
    .action(preview_1.buildPreview);
extra_typings_1.program
    .command('start')
    .description('Starts the production build of the preview app')
    .option('-p --port <port>', 'Port to run production server on', '3000')
    .action(preview_1.startPreview);
extra_typings_1.program
    .command('export')
    .description('Build the templates to the `out` directory')
    .option('--outDir <path>', 'Output directory', 'out')
    .option('-p, --pretty', 'Pretty print the output', false)
    .option('-t, --plainText', 'Set output format as plain text', false)
    .option('-d, --dir <path>', 'Directory with your email templates', './emails')
    .action(function (_a) {
    var outDir = _a.outDir, pretty = _a.pretty, plainText = _a.plainText, srcDir = _a.dir;
    return (0, export_1.exportTemplates)(outDir, srcDir, { pretty: pretty, plainText: plainText });
});
extra_typings_1.program.parse();
